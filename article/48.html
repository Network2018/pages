<!-- build time:Thu May 03 2018 22:55:47 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><link href="https://static.sometimesnaive.org:9004/deps/imgs/favicon.ico" type="image/x-icon" rel="icon"><title>DNS CAA 证书颁发机构授权 | 南琴浪博客</title><link href="https://static.sometimesnaive.org:9004/deps/css/style.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/jquery.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/nprogress.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/nprogress.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/prism.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/prism.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/gitment.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/gitment.min.js" type="application/javascript"></script></head><body><header class="header fixed-header"><div class="header-container"><a class="home-link" href="/">南琴浪博客</a><ul class="right-list"><li class="list-item"><a href="/" class="item-link">Home</a></li><li class="list-item"><a href="/archive/" class="item-link">Archive</a></li><li class="list-item"><a href="/portal/atom.xml" class="item-link">RSS</a></li><li class="list-item"><a href="/portal/friendly-links" class="item-link">Links</a></li></ul><div class="menu-mask"><ul class="menu-list"><li class="menu-item"><a href="/" class="menu-link">Home</a></li><li class="menu-item"><a href="/archive/" class="menu-link">Archive</a></li><li class="menu-item"><a href="/portal/atom.xml" class="menu-link">RSS</a></li><li class="menu-item"><a href="/portal/friendly-links" class="menu-link">Links</a></li></ul></div></div></header><div id="article-banner"><h2>DNS CAA 证书颁发机构授权</h2><p class="post-date">01/13/2018</p></div><main class="app-body flex-box"><article class="post-article"><section class="markdown-content"><p>本文介绍 DNS CAA 记录，及添加该记录的方式。<br><a id="more"></a></p><p>DNS CAA，全称 DNS Certification Authority Authorization，即 DNS 证书颁发机构授权。是一项借助互联网的 DNS 解析系统，<code>使域持有人可以指定允许为其域签发证书的 CA 的技术</code>。DNS CAA Record 并不用于对 TLS 的额外检查，它的宗旨在于使 CA 避免在某些情况下错误签发证书。更多 CAA 的说明可以参考 <a href="https://zh.wikipedia.org/zh-hans/DNS证书颁发机构授权" rel="external nofollow noopener noreferrer" target="_blank">wikipedia</a>。</p><p>接下来以 Cloudflare 为例，介绍添加 DNS CAA 记录的方式。</p><h2 id="Cloudflare-添加-CAA-记录"><a href="#Cloudflare-添加-CAA-记录" class="headerlink" title="Cloudflare 添加 CAA 记录"></a>Cloudflare 添加 CAA 记录</h2><p>官方文档：https://support.cloudflare.com/hc/en-us/articles/115000310792-Configuring-CAA-Records</p><p><del>当然，Cloudflare 的 DNS CAA Record 目前还属于 Beta 阶段，如果你想添加 CAA 记录，你需要向 Cloudflare 发出 Request。我在后文会贴出我的 Request 过程。</del></p><p>更新：现在已经不再需要申请了，直接就可以添加 CAA 记录。</p><p>现在先介绍在 Cloudflare 添加 CAA 记录的过程。</p><p>在 DNS 中选择 CAA 类型，写入你的域名：<br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/1.png" alt="选择 CAA 类型"></p><p>然后单击 “Click to configure” 按钮，弹出这样的窗口：<br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/2-1.png" alt="弹出这样的窗口"></p><p>CAA Value 的 Tag 有三种类型，一般选择 “Allow wildcards and specific hostnames” 这项即可：<br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/2-2.png" alt="Tag 有三种类型"></p><p>然后输入对应 CA 的值（这些 CA 的值请参考官方文档），这里以 Let’s Encrypt 为例，然后确定：<br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/2-3.png" alt="输入对应 CA 的值"></p><p>这样，一条 CAA 记录就添加完成了。</p><h2 id="我的-Request-记录"><a href="#我的-Request-记录" class="headerlink" title="我的 Request 记录"></a>我的 Request 记录</h2><p><del>上文已提到，如果你想添加 CAA 记录，你需要向 Cloudflare 发出 Request。你需要到 https://support.cloudflare.com/requests/new 发出一个 Join CAA Beta 的 Request</del></p><p>以下是我的 Request 过程，可以作为参考。值得一提的是，Cloudflare 的客服服务还是蛮棒的，虽然对话显得很重复很官方，服务态度和效率还是都很好的。</p><p><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-1.png" alt="Request Conversation 1"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-2-1.png" alt="Request Conversation 2-1"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-2-2.png" alt="Request Conversation 2-2"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-3.png" alt="Request Conversation 3"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-4.png" alt="Request Conversation 4"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-5.png" alt="Request Conversation 5"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-6.png" alt="Request Conversation 6"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-7.png" alt="Request Conversation 7"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-8.png" alt="Request Conversation 8"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-9.png" alt="Request Conversation 9"><br><img src="https://static.sometimesnaive.org:9004/images/dns-caa-record/3-10.png" alt="Request Conversation 10"></p></section><br><div class="article-footer"><br><p>本文可能过时失效，若需更新，请留言</p><p>本博客文章均为原创，转载请注明来源</p></div><div class="nav-container"><a class="nav-right" href="/article/47.html">Gitment - GitHub Issue 评论系统 <span class="nav-arrow">→</span> </a><a class="nav-left" href="/article/49.html"><span class="nav-arrow">← </span>Nginx 启用 Brotli 压缩</a></div><div id="comments"></div></article><aside class="catalog-container"><div class="toc-main"><strong class="toc-title">Catalog</strong><ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Cloudflare-添加-CAA-记录"><span class="toc-nav-text">Cloudflare 添加 CAA 记录</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#我的-Request-记录"><span class="toc-nav-text">我的 Request 记录</span></a></li></ol></div></aside></main><script>!function(){var e="https://static.sometimesnaive.org:9004/deps/imgs/banner.jpg";$("#article-banner").css({"background-image":"url("+e+")"}),$(".header").removeClass("fixed-header")}()</script><script>(function(){
    var gitmentConfig = "nanqinlang"
    if (gitmentConfig !== 'undefined') {
        var gitment = new Gitment({
            id: "48",
            owner: "nanqinlang",
            repo: "sometimesnaive.org",
            oauth: {client_id: "b0612de512484ab34c7a", client_secret: "c2bc4cd3c947097d2ccc4c16f120d50458314dd0"},
            theme: {render(state, instance){const container = document.createElement('div');container.lang="en-US";container.className='gitment-container gitment-root-container';container.appendChild(instance.renderHeader(state, instance));container.appendChild(instance.renderEditor(state, instance));container.appendChild(instance.renderComments(state, instance));container.appendChild(instance.renderFooter(state, instance));return container;}}
        })
        gitment.render(document.getElementById('comments'))
    }
})();</script><div class="scroll-top"><span class="arrow-icon"></span></div><footer class="app-footer"><p class="copyright" align="center">&copy; 2017 - 2018 南琴浪博客 <a>(sometimesnaive.org)<a></a></a></p></footer><script src="https://static.sometimesnaive.org:9004/deps/js/function.min.js" type="application/javascript"></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-108266909-1","auto"),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js" type="application/javascript"></script></body></html><!-- rebuild by neat -->