<!-- build time:Sat May 05 2018 01:46:53 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><link href="https://static.sometimesnaive.org:9004/deps/imgs/favicon.ico" type="image/x-icon" rel="icon"><title>OpenVZ 魔改 BBR - lkl-rinetd 一键脚本 | 南琴浪博客</title><link href="https://static.sometimesnaive.org:9004/deps/css/style.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/jquery.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/nprogress.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/nprogress.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/prism.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/prism.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/gitment.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/gitment.min.js" type="application/javascript"></script></head><body><header class="header fixed-header"><div class="header-container"><a class="home-link" href="/">南琴浪博客</a><ul class="right-list"><li class="list-item"><a href="/" class="item-link">Home</a></li><li class="list-item"><a href="/archive/" class="item-link">Archive</a></li><li class="list-item"><a href="/portal/atom.xml" class="item-link">RSS</a></li><li class="list-item"><a href="/portal/friendly-links" class="item-link">Links</a></li></ul><div class="menu-mask"><ul class="menu-list"><li class="menu-item"><a href="/" class="menu-link">Home</a></li><li class="menu-item"><a href="/archive/" class="menu-link">Archive</a></li><li class="menu-item"><a href="/portal/atom.xml" class="menu-link">RSS</a></li><li class="menu-item"><a href="/portal/friendly-links" class="menu-link">Links</a></li></ul></div></div></header><div id="article-banner"><h2>OpenVZ 魔改 BBR - lkl-rinetd 一键脚本</h2><p class="post-date">02/06/2018</p></div><main class="app-body flex-box"><article class="post-article"><section class="markdown-content"><p>这里是 <a href="https://sometimesnaive.org/article/37" rel="external nofollow noopener noreferrer" target="_blank">tcp_nanqinlang</a> 的 <code>lkl-rinetd</code> 分支。<br><a id="more"></a></p><p>本项目 Github 地址： https://github.com/tcp-nanqinlang/lkl-rinetd</p><h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><p>要求以下：</p><ul><li>OpenVZ</li><li>64 bit</li><li>Ram &gt;&gt; 64M</li></ul><p>更新： 2018-03-24 新增 多网卡 适配</p><h3 id="Debian-or-Ubuntu"><a href="#Debian-or-Ubuntu" class="headerlink" title="Debian or Ubuntu"></a>Debian or Ubuntu</h3><p>适用于 <code>单网卡（单 IP）</code> 服务器：</p><pre><code class="language-bash">wget https://github.com/tcp-nanqinlang/lkl-rinetd/releases/download/1.1.0/tcp_nanqinlang-rinetd-debianorubuntu.sh
bash tcp_nanqinlang-rinetd-debianorubuntu.sh
</code></pre><p>适用于 <code>多网卡（多 IP）</code> 服务器，会为所有网卡（所有 IP）提供加速：</p><pre><code class="language-bash">wget https://github.com/tcp-nanqinlang/lkl-rinetd/releases/download/1.1.0/tcp_nanqinlang-rinetd-debianorubuntu-multiNIC.sh
bash tcp_nanqinlang-rinetd-debianorubuntu-multiNIC.sh
</code></pre><h3 id="CentOS-7"><a href="#CentOS-7" class="headerlink" title="CentOS 7"></a>CentOS 7</h3><p>和上面一样，也分 单网卡 和 多网卡 版本：</p><pre><code class="language-bash"># 单网卡
wget https://github.com/tcp-nanqinlang/lkl-rinetd/releases/download/1.1.0/tcp_nanqinlang-rinetd-centos.sh
bash tcp_nanqinlang-rinetd-centos.sh

# 多网卡
wget https://github.com/tcp-nanqinlang/lkl-rinetd/releases/download/1.1.0/tcp_nanqinlang-rinetd-centos-multiNIC.sh
bash tcp_nanqinlang-rinetd-centos-multiNIC.sh
</code></pre><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><p>以下进行脚本使用说明：</p><h3 id="安装-lkl-rinetd"><a href="#安装-lkl-rinetd" class="headerlink" title="安装 lkl-rinetd"></a>安装 lkl-rinetd</h3><p>此命令用于安装 lkl-rinetd。</p><p>在 <code>/home/tcp_nanqinlang</code> 进行安装，所以安装完成后不要动这个文件夹了（除非你想修改端口）。</p><p>安装过程中，会提示输入端口号。多个端口号用空格隔开。不支持端口段。</p><p>安装完成后，会开启 lkl-rinetd。以后重启机器也会随开机自启。</p><p>使用前请注意自己的 iptables 相关设置。</p><h3 id="检查-lkl-rinetd-运行状态"><a href="#检查-lkl-rinetd-运行状态" class="headerlink" title="检查 lkl-rinetd 运行状态"></a>检查 lkl-rinetd 运行状态</h3><p>此命令用于检查 lkl-rinetd 运行与否，可通过返回的提示判断。</p><h3 id="卸载-lkl-rinetd"><a href="#卸载-lkl-rinetd" class="headerlink" title="卸载 lkl-rinetd"></a>卸载 lkl-rinetd</h3><p>运行此命令会删除 /home/tcp_nanqinlang 、移除 rc.local 对应开机自启项和清空 iptables raw 表。属于完整卸载，不会有残留。且卸载后无需重启。</p></section><br><div class="article-footer"><br><p>本文可能过时失效，若需更新，请留言</p><p>本博客文章均为原创，转载请注明来源</p></div><div class="nav-container"><a class="nav-right" href="/article/53.html">iptables 将 Cloudflare&#39;s IP 加入白名单 <span class="nav-arrow">→</span> </a><a class="nav-left" href="/article/55.html"><span class="nav-arrow">← </span>apt-get：there is no public key available</a></div><div id="comments"></div></article><aside class="catalog-container"><div class="toc-main"><strong class="toc-title">Catalog</strong><ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#开始使用"><span class="toc-nav-text">开始使用</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Debian-or-Ubuntu"><span class="toc-nav-text">Debian or Ubuntu</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#CentOS-7"><span class="toc-nav-text">CentOS 7</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#使用说明"><span class="toc-nav-text">使用说明</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#安装-lkl-rinetd"><span class="toc-nav-text">安装 lkl-rinetd</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#检查-lkl-rinetd-运行状态"><span class="toc-nav-text">检查 lkl-rinetd 运行状态</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#卸载-lkl-rinetd"><span class="toc-nav-text">卸载 lkl-rinetd</span></a></li></ol></li></ol></div></aside></main><script>!function(){var e="https://static.sometimesnaive.org:9004/deps/imgs/banner.jpg";$("#article-banner").css({"background-image":"url("+e+")"}),$(".header").removeClass("fixed-header")}()</script><script>(function(){
    var gitmentConfig = "nanqinlang"
    if (gitmentConfig !== 'undefined') {
        var gitment = new Gitment({
            id: "54",
            owner: "nanqinlang",
            repo: "sometimesnaive.org",
            oauth: {client_id: "b0612de512484ab34c7a", client_secret: "c2bc4cd3c947097d2ccc4c16f120d50458314dd0"},
            theme: {render(state, instance){const container = document.createElement('div');container.lang="en-US";container.className='gitment-container gitment-root-container';container.appendChild(instance.renderHeader(state, instance));container.appendChild(instance.renderEditor(state, instance));container.appendChild(instance.renderComments(state, instance));container.appendChild(instance.renderFooter(state, instance));return container;}}
        })
        gitment.render(document.getElementById('comments'))
    }
})();</script><div class="scroll-top"><span class="arrow-icon"></span></div><footer class="app-footer"><p class="copyright" align="center">&copy; 2017 - 2018 南琴浪博客 <a>(sometimesnaive.org)<a></a></a></p></footer><script src="https://static.sometimesnaive.org:9004/deps/js/function.min.js" type="application/javascript"></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-108266909-1","auto"),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js" type="application/javascript"></script></body></html><!-- rebuild by neat -->