<!-- build time:Tue May 01 2018 19:40:15 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><link href="https://static.sometimesnaive.org:9004/deps/imgs/favicon.ico" type="image/x-icon" rel="icon"><title>Linux 的默认 SSH 登录路径 | 南琴浪博客</title><link href="https://static.sometimesnaive.org:9004/deps/css/style.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/jquery.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/nprogress.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/nprogress.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/prism.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/prism.min.js" type="application/javascript"></script><link href="https://static.sometimesnaive.org:9004/deps/css/gitment.min.css" type="text/css" rel="stylesheet"><script src="https://static.sometimesnaive.org:9004/deps/js/gitment.min.js" type="application/javascript"></script></head><body><header class="header fixed-header"><div class="header-container"><a class="home-link" href="/">南琴浪博客</a><ul class="right-list"><li class="list-item"><a href="/" class="item-link">Home</a></li><li class="list-item"><a href="/archive/" class="item-link">Archive</a></li><li class="list-item"><a href="/portal/feed" class="item-link">RSS</a></li><li class="list-item"><a href="/portal/friendly-links" class="item-link">Links</a></li></ul><div class="menu-mask"><ul class="menu-list"><li class="menu-item"><a href="/" class="menu-link">Home</a></li><li class="menu-item"><a href="/archive/" class="menu-link">Archive</a></li><li class="menu-item"><a href="/portal/feed" class="menu-link">RSS</a></li><li class="menu-item"><a href="/portal/friendly-links" class="menu-link">Links</a></li></ul></div></div></header><div id="article-banner"><h2>Linux 的默认 SSH 登录路径</h2><p class="post-date">10/02/2017</p></div><main class="app-body flex-box"><article class="post-article"><section class="markdown-content"><p>我会突然想到这个默认路径，是因为我最近 SSH 的登录使用比较频繁。我的习惯是把 /home 作为我的默认 workplace ，这个 /home 可是 Linux 自带的一个完全空白没被占用的路径，拿来折腾真是坠吼滴。而上面也提到了，Linux 会把 /root 作为 默认路径，这使得我每次都需要 cd /home，所以我就想到了要把默认路径改到我所喜欢的 /home。<br><a id="more"></a></p><p>在使用例如 Putty / Xshell 登录 SSH 后，会使用一个 SSH 的默认登录路径 作为当前路径，这个默认路径一般为 <code>/root</code>。</p><p>对于各个用户操作级的默认路径，位于 <code>/etc/passwd</code> 文件中。</p><p><img src="https://static.sometimesnaive.org:9004/images/ssh-default-dir/1.png" alt="/etc/passwd 文件掌管着各个用户操作级"></p><p>SSH 的默认路径配置文件是 <code>/etc/passwd</code>，要修改默认登录路径，只需修改这个文件。</p><p>1.<strong>编辑配置文件</strong></p><pre><code class="language-bash">vim /etc/passwd
</code></pre><p>2.<strong>找到 root 所在行</strong></p><pre><code class="language-bash">root:x:0:0:root:/root:/bin/bash
</code></pre><p>3.<strong>修改用户的对应路径</strong><br>在 root:x:0:0:root:/root:/bin/bash 这行中<br>第一个 root: ，表示 用户名是 root<br>第二个 root: ，表示 冒号后面是指定的默认路径<br>其中的 <code>root:/root</code> 就表示 默认登录路径是 <code>/root</code><br>要修改默认登录路径，只需<code>把这个 /root 修改为你想要的路径</code><br>例如我想把 /home/sh 设为我的 SSH 默认登录路径，那我就修改为</p><pre><code class="language-bash">root:x:0:0:root:/home/sh:/bin/bash
</code></pre><p>4.<strong>然后将 SSH 重启</strong></p><pre><code class="language-bash">service ssh restart
</code></pre><p>这样，以后的默认登录路径就是你指定的目录了<br>设置成功后，会在你新指定的目录下生成 <code>.bash_history</code> 文件<br>请注意，登录 SSH 时，默认不会将你的登录路径显示为绝对路径，一般只会显示为例如</p><pre><code class="language-bash">root@nanqinlang:~#
</code></pre><p><img src="https://static.sometimesnaive.org:9004/images/ssh-default-dir/2.png" alt="我修改了默认路径为 /home/sh "></p></section><br><div class="article-footer"><br><p>本文可能过时失效，若需更新，请留言</p><p>本博客文章均为原创，转载请注明来源</p></div><div class="nav-container"><a class="nav-right" href="/article/6">回程路由测试脚本 - testrace <span class="nav-arrow">→</span> </a><a class="nav-left" href="/article/8"><span class="nav-arrow">← </span>也谈TCP拥塞控制技术 与BBR的加速原理</a></div><div id="comments"></div></article><aside class="catalog-container"><div class="toc-main"><strong class="toc-title">Catalog</strong><ol class="nav">none</ol></div></aside></main><script>!function(){var e="https://static.sometimesnaive.org:9004/deps/imgs/banner.jpg";$("#article-banner").css({"background-image":"url("+e+")"}),$(".header").removeClass("fixed-header")}()</script><script>(function(){
    var gitmentConfig = "nanqinlang"
    if (gitmentConfig !== 'undefined') {
        var gitment = new Gitment({
            id: "7",
            owner: "nanqinlang",
            repo: "sometimesnaive.org",
            oauth: {client_id: "b0612de512484ab34c7a", client_secret: "c2bc4cd3c947097d2ccc4c16f120d50458314dd0"},
            theme: {render(state, instance){const container = document.createElement('div');container.lang="en-US";container.className='gitment-container gitment-root-container';container.appendChild(instance.renderHeader(state, instance));container.appendChild(instance.renderEditor(state, instance));container.appendChild(instance.renderComments(state, instance));container.appendChild(instance.renderFooter(state, instance));return container;}}
        })
        gitment.render(document.getElementById('comments'))
    }
})();</script><div class="scroll-top"><span class="arrow-icon"></span></div><footer class="app-footer"><p class="copyright" align="center">&copy; 2017 - 2018 南琴浪博客 <a>(sometimesnaive.org)<a></a></a></p></footer><script src="https://static.sometimesnaive.org:9004/deps/js/function.min.js" type="application/javascript"></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-108266909-1","auto"),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js" type="application/javascript"></script></body></html><!-- rebuild by neat -->